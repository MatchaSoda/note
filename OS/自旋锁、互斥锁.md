# 自旋锁、互斥锁
## 锁

锁：指进入临界区的判断标志，  
比如变量LOCK，若LOCK=0，表示当前临界区无进程，申请的进程可以进入，若LOCK=1，表示当前临界区有进程，申请的进程都不允许进入

## 自旋锁、互斥锁
* 自旋锁：代码说明：while(LOCK==1); LOCK=1;（只是简单地说明意思，并不一定是这样的）  
实际上，自旋锁是硬件实现的，会“锁总线”，将这两行代码变成一个原子操作（命令TSL或XCHG），以保证不会被中断，实现互斥。

 

* 互斥锁：代码说明：while(LOCK==1) {sleep; } LOCK=1;（只是简单地说明意思，并不一定是这样的）  
同上，硬件实现，原子操作

 

两者比较，使用自旋锁会导致忙等待，使用互斥锁会导致进程让权等待

自旋锁的忙等会浪费CPU，长时间的浪费可能导致死锁。

所以，**自旋锁**适用于临界区操作时间短的多进程，操作时间短可以减少忙等的时间。  
而**互斥锁**由于需要进程调度且睡眠时间较长，所以适用于临界区操作时间长的。

## 参考
https://www.cnblogs.com/lylhome/p/13428155.html